(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(11),r=n.n(i),o=(n(91),n(46)),l=n(12),s=n(23),u=n(149),d=n(122),j=n(153),f=n(154),m=n(155),b=n(156),x=n(157),p=n(158),h=n(159),O=n(160),g=n(161),v=n(162),y=n(72),C=n.n(y),w=n(26),F=n.n(w),N=n(27),S=n.n(N),Y=S()(F.a),D=C.a.create({timeout:3e4,baseURL:"http://localhost:8080/api/v1"});D.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),D.interceptors.response.use((function(e){console.log("http response",e);var t=e.status,n=e.data;e.message;return 200===t?Promise.resolve(n):Promise.reject(e)}),(function(e){return console.log("My BIG ERROR",e),Y.fire({icon:"error",title:"Failed!",text:e}),Promise.reject(e)}));var T=D,P="cars";var H=n(163),k=n(164),A=n(3),B=Object(u.a)((function(e){return{root:{width:"100%"},headerBar:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),I=[{id:"name",label:"Name",align:"left",format:function(e){return e.toUpperCase()}},{id:"model",label:"Model",align:"left"},{id:"manufactureYear",label:"Year",align:"left"},{id:"manufacturer",label:"Manufacturer",align:"left"},{id:"price",label:"Price",align:"left",format:function(e){return"GHS ".concat(e)}},{id:"description",label:"Description",align:"left"}],M=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],u=r[1],y=Object(l.f)(),C=Object(l.h)().path,w=B(),N=S()(F.a),Y=function(){u(!0),new Promise((function(e,t){T({url:"".concat(P),method:"get"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))})).then((function(e){var t=e.status,n=e.data;200===t&&c(n)})).catch((function(e){alert(e)})).finally((function(){u(!1)}))},D=function(e){u(!0),function(e){return new Promise((function(t,n){T({url:"".concat(P,"/").concat(e),method:"delete"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(t){var a=t.status,i=t.message;200===a?(c(n.filter((function(t){return t.id!=e}))),N.fire({icon:"success",title:"Delete Car",text:i||"Deleted!"})):N.fire({icon:"error",title:"Delete Car",text:i||"Failed to delete!"})})).catch((function(e){N.fire({icon:"error",title:"Delete Car",text:e})})).finally((function(){u(!1)}))};return Object(a.useEffect)((function(){Y()}),[]),Object(A.jsxs)("div",{className:w.root,children:[Object(A.jsx)(d.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(A.jsx)("div",{className:w.headerBar,children:Object(A.jsx)(j.a,{variant:"contained",color:"primary",disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){y.push("".concat(C,"cars/create"))},children:Object(A.jsx)(f.a,{variant:"button",children:"New Car"})})})}),Object(A.jsxs)(d.a,{style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(A.jsx)(f.a,{variant:"h5",children:"Cars"}),Object(A.jsx)(m.a,{}),Object(A.jsxs)(b.a,{children:[o?Object(A.jsx)(x.a,{color:"secondary",style:{width:"100%"}}):null,Object(A.jsxs)(p.a,{stickyHeader:!0,"aria-label":"cars table",children:[Object(A.jsx)(h.a,{children:Object(A.jsxs)(O.a,{children:[I.map((function(e){return Object(A.jsx)(g.a,{children:e.label},e.id)})),Object(A.jsx)(g.a,{align:"right",children:"Actions"})]})}),Object(A.jsx)(v.a,{children:n&&n.map((function(e){return Object(A.jsxs)(O.a,{hover:!0,children:[I.map((function(t){var n=e[t.id];return Object(A.jsx)(g.a,{children:t.format?t.format(n):n},t.id)})),Object(A.jsxs)(g.a,{align:"right",children:[Object(A.jsx)(H.a,{fontSize:"small",onClick:function(){return t=e.id,void y.push("".concat(C,"cars/").concat(t,"/edit"));var t}}),Object(A.jsx)(k.a,{fontSize:"small",onClick:function(){return t=e.id,void N.fire({title:"Are you sure you want to delete car?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),D(t)}});var t}})]})]},e.id)}))})]})]})]})]})},E=n(34),U=n(31),z=n(165),R=n(166),L=n(175),G=n(174),J=n(177),q=n(169),K=n(56),Q=n.n(K),V=[{id:"TOYOTA",label:"TOYOTA"},{id:"HYUNDAI",label:"HYUNDAI"},{id:"HONDA",label:"HONDA"},{id:"NISSAN",label:"NISSAN"}],W=Object(u.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),X=function(){var e=Object(a.useState)({model:"",description:"",manufacturer:"TOYOTA",manufactureYear:"",price:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],u=r[1],b=Object(l.f)(),x=W(),p=S()(F.a),h=function(e){var t=e.target,a=t.name,i=t.value;c(Object(U.a)(Object(U.a)({},n),{},Object(E.a)({},a,i)))};return Object(A.jsxs)(a.Fragment,{children:[Object(A.jsx)(d.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(A.jsx)(z.a,{color:"primary",onClick:function(){b.goBack()},children:Object(A.jsx)(Q.a,{})})}),Object(A.jsxs)(d.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(A.jsx)(f.a,{variant:"h5",color:"textPrimary",children:"Create Car Form"}),Object(A.jsx)(m.a,{}),Object(A.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(A.jsxs)("form",{className:x.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u(!0),console.log("payload",n),function(e){return new Promise((function(t,n){T({url:"".concat(P),method:"post",data:e}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(n).then((function(e){var t=e.status,n=e.message;200==t?p.fire({icon:"success",title:"Success",text:n||"Department Created Successfully",allowOutsideClick:!1,willClose:function(){c({model:"",description:"",manufacturer:"TOYOTA",manufactureYear:"",price:0})}}):p.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){u(!1)}))},children:[Object(A.jsxs)(R.a,{variant:"outlined",className:x.textField,children:[Object(A.jsx)(L.a,{htmlFor:"outlined-age-native-simple",children:"Department"}),Object(A.jsx)(G.a,{native:!0,value:n.manufacturer,onChange:function(e){var t=e.target,a=t.name;console.log("event",e.target.value),c(Object(U.a)(Object(U.a)({},n),{},Object(E.a)({},a,t.value)))},label:"Department",name:"manufacturer",children:V.map((function(e){return Object(A.jsx)("option",{value:e.id,children:e.label},e.id)}))})]}),Object(A.jsx)(J.a,{id:"model",label:"Car Model",name:"model",value:n.model,variant:"outlined",className:x.textField,onChange:h}),Object(A.jsx)(J.a,{id:"year",label:"Manufacture Year",name:"manufactureYear",value:n.manufactureYear,variant:"outlined",className:x.textField,onChange:h}),Object(A.jsx)(J.a,{id:"price",label:"price",name:"price",value:n.price,type:"number",variant:"outlined",className:x.textField,onChange:h}),Object(A.jsx)(J.a,{id:"description",label:"description",name:"description",value:n.description,variant:"outlined",className:x.textField,onChange:h}),Object(A.jsxs)(j.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:o||!(n.description&&n.manufactureYear&&n.model&&n.price&&n.manufacturer&&n.price>0),children:[o?Object(A.jsx)(q.a,{size:20}):null,Object(A.jsx)(f.a,{variant:"button",children:"Create"})]})]})})]})]})},Z=n(170),$=n(171),_=n(172),ee=n(173),te=Object(u.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),ne=function(){var e=Object(a.useState)({model:"",description:"",manufacturer:"",manufactureYear:"",price:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(s.a)(i,2),o=r[0],u=r[1],b=Object(a.useState)(!1),p=Object(s.a)(b,2),h=p[0],O=p[1],g=Object(l.f)(),v=te(),y=Object(l.g)().id,C=S()(F.a);Object(a.useEffect)((function(){N(y)}),[]);var w=function(e){var t=e.target,a=t.name,i=t.value;c(Object(U.a)(Object(U.a)({},n),{},Object(E.a)({},a,i)))},N=function(e){u(!0),function(e){return new Promise((function(t,n){T({url:"".concat(P,"/").concat(e),method:"get"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(e){var t=e.status,n=e.message,a=e.data;if(200===t){var i=a.model,r=a.description,o=a.manufactureYear,l=a.manufacturer,s=a.price;c({model:i,description:r,manufactureYear:o,manufacturer:l,price:s})}else C.fire({icon:"error",title:"Error",text:n||"Error"})})).catch((function(e){C.fire({icon:"error",title:"Error",text:e})})).finally((function(){u(!1)}))};return Object(A.jsxs)(a.Fragment,{children:[Object(A.jsx)(d.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(A.jsx)(z.a,{color:"primary",onClick:function(){g.goBack()},children:Object(A.jsx)(Q.a,{})})}),Object(A.jsxs)(d.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(A.jsx)(f.a,{variant:"h5",color:"textPrimary",children:"Update Car Form"}),o?Object(A.jsx)(x.a,{color:"secondary",style:{width:"100%"}}):null,Object(A.jsx)(m.a,{}),Object(A.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(A.jsxs)("form",{className:v.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),O(!0),console.log("payload",n),function(e,t){return new Promise((function(n,a){T({url:"".concat(P,"/").concat(e),method:"put",data:t}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(y,n).then((function(e){var t=e.status,n=e.message;200==t?C.fire({icon:"success",title:"Success",text:n||"Car Updated Successfully",allowOutsideClick:!1,willClose:function(){}}):C.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){C.fire({icon:"error",title:"Failed!",text:e})})).finally((function(){O(!1)}))},children:[Object(A.jsx)(J.a,{id:"model",label:"Car Model",name:"model",value:n.model,variant:"outlined",className:v.textField,onChange:w}),Object(A.jsx)(J.a,{id:"year",label:"Manufacture Year",name:"manufactureYear",value:n.manufactureYear,variant:"outlined",className:v.textField,onChange:w}),Object(A.jsx)(J.a,{id:"price",label:"Price",name:"price",value:n.price,type:"number",variant:"outlined",className:v.textField,onChange:w}),Object(A.jsx)(J.a,{id:"description",label:"description",name:"description",value:n.description,variant:"outlined",className:v.textField,onChange:w}),Object(A.jsxs)(j.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:h||!(n.description&&n.manufactureYear&&n.model&&n.price&&n.manufacturer&&n.price>0),children:[h?Object(A.jsx)(q.a,{size:20}):null,Object(A.jsx)(f.a,{variant:"button",children:"Update"})]})]})})]})]})},ae=function(){return Object(A.jsx)("div",{style:{width:"100%",minHeight:"400px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:Object(A.jsx)("span",{style:{fontSize:"50px",fontFamily:"bold"},children:"404"})})},ce=Object(u.a)((function(e){return{root:{display:"flex"},content:{width:"100%",padding:"10px",backgroundColor:"#f0f2f5"}}}));var ie=function(){var e=ce();return Object(A.jsx)(Z.a,{children:Object(A.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(A.jsx)($.a,{position:"static",children:Object(A.jsxs)(_.a,{className:e.toolbar,children:[Object(A.jsx)(z.a,{edge:"start",color:"inherit",children:Object(A.jsx)(ee.a,{})}),Object(A.jsx)(f.a,{component:"h1",variant:"h6",color:"inherit",children:"Car Management System"})]})}),Object(A.jsx)("div",{className:e.content,children:Object(A.jsx)(o.a,{children:Object(A.jsxs)(l.c,{children:[Object(A.jsx)(l.a,{path:"/cars/create",component:X}),Object(A.jsx)(l.a,{path:"/cars/:id/edit",component:ne}),Object(A.jsx)(l.a,{path:"/cars",component:M}),Object(A.jsx)(l.a,{exact:!0,path:"/",component:M}),Object(A.jsx)(l.a,{component:ae})]})})})]})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(A.jsx)(c.a.StrictMode,{children:Object(A.jsx)(ie,{})}),document.getElementById("root")),re()},91:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.9c7c9ac3.chunk.js.map