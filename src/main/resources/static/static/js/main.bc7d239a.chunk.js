(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),o=(n(91),n(46)),l=n(12),s=n(23),u=n(149),d=n(122),j=n(153),f=n(154),m=n(155),b=n(156),p=n(157),x=n(158),h=n(159),O=n(160),v=n(161),g=n(162),y=n(72),C=n.n(y).a.create({timeout:3e4,baseURL:"http://localhost:8080/api/v1"});C.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),C.interceptors.response.use((function(e){console.log("http response",e);var t=e.status,n=e.data;return 200===t?Promise.resolve(n):Promise.reject(e)}),(function(e){return Promise.reject(e)}));var w=C,N="cars";var F=n(163),S=n(164),Y=n(38),D=n.n(Y),T=n(39),P=n.n(T),k=n(4),H=Object(u.a)((function(e){return{root:{width:"100%"},headerBar:{width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center"},tableContainer:{maxHeight:440,padding:10}}})),A=[{id:"name",label:"Name",align:"left",format:function(e){return e.toUpperCase()}},{id:"model",label:"Model",align:"left"},{id:"manufactureYear",label:"Year",align:"left"},{id:"manufacturer",label:"Manufacturer",align:"left"},{id:"price",label:"Price",align:"left",format:function(e){return"GHS ".concat(e)}},{id:"description",label:"Description",align:"left"}],B=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],y=Object(l.f)(),C=Object(l.h)().path,Y=H(),T=D()(P.a),B=function(){u(!0),new Promise((function(e,t){w({url:"".concat(N),method:"get"}).then((function(t){return e(t)})).catch((function(e){return t(e)}))})).then((function(e){var t=e.status,n=e.data;200===t&&c(n)})).catch((function(e){alert(e)})).finally((function(){u(!1)}))},I=function(e){u(!0),function(e){return new Promise((function(t,n){w({url:"".concat(N,"/").concat(e),method:"delete"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(t){var a=t.status,r=t.message;200===a?(c(n.filter((function(t){return t.id!=e}))),T.fire({icon:"success",title:"Delete Car",text:r||"Deleted!"})):T.fire({icon:"error",title:"Delete Car",text:r||"Failed to delete!"})})).catch((function(e){T.fire({icon:"error",title:"Delete Car",text:e})})).finally((function(){u(!1)}))};return Object(a.useEffect)((function(){B()}),[]),Object(k.jsxs)("div",{className:Y.root,children:[Object(k.jsx)(d.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},"aria-label":"department bar",children:Object(k.jsx)("div",{className:Y.headerBar,children:Object(k.jsx)(j.a,{variant:"contained",color:"primary",disableElevation:!0,"aria-label":"Create Department Button",onClick:function(){y.push("".concat(C,"cars/create"))},children:Object(k.jsx)(f.a,{variant:"button",children:"New Car"})})})}),Object(k.jsxs)(d.a,{style:{padding:"5px",minHeight:"300px",marginTop:"10px"},children:[Object(k.jsx)(f.a,{variant:"h5",children:"Cars"}),Object(k.jsx)(m.a,{}),Object(k.jsxs)(b.a,{children:[o?Object(k.jsx)(p.a,{color:"secondary",style:{width:"100%"}}):null,Object(k.jsxs)(x.a,{stickyHeader:!0,"aria-label":"cars table",children:[Object(k.jsx)(h.a,{children:Object(k.jsxs)(O.a,{children:[A.map((function(e){return Object(k.jsx)(v.a,{children:e.label},e.id)})),Object(k.jsx)(v.a,{align:"right",children:"Actions"})]})}),Object(k.jsx)(g.a,{children:n&&n.map((function(e){return Object(k.jsxs)(O.a,{hover:!0,children:[A.map((function(t){var n=e[t.id];return Object(k.jsx)(v.a,{children:t.format?t.format(n):n},t.id)})),Object(k.jsxs)(v.a,{align:"right",children:[Object(k.jsx)(F.a,{fontSize:"small",onClick:function(){return t=e.id,void y.push("".concat(C,"cars/").concat(t,"/edit"));var t}}),Object(k.jsx)(S.a,{fontSize:"small",onClick:function(){return t=e.id,void T.fire({title:"Are you sure you want to delete car?",showDenyButton:!0,confirmButtonText:"Yes",preConfirm:function(){console.log("left confirm"),I(t)}});var t}})]})]},e.id)}))})]})]})]})]})},I=n(32),M=n(29),E=n(165),U=n(166),z=n(175),L=n(174),J=n(177),q=n(169),G=n(56),R=n.n(G),K=[{id:"TOYOTA",label:"TOYOTA"},{id:"HYUNDAI",label:"HYUNDAI"},{id:"HONDA",label:"HONDA"},{id:"NISSAN",label:"NISSAN"}],Q=Object(u.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),V=function(){var e=Object(a.useState)({model:"",description:"",manufacturer:"TOYOTA",manufactureYear:"",price:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],b=Object(l.f)(),p=Q(),x=D()(P.a),h=function(e){var t=e.target,a=t.name,r=t.value;c(Object(M.a)(Object(M.a)({},n),{},Object(I.a)({},a,r)))};return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(d.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(k.jsx)(E.a,{color:"primary",onClick:function(){b.goBack()},children:Object(k.jsx)(R.a,{})})}),Object(k.jsxs)(d.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(k.jsx)(f.a,{variant:"h5",color:"textPrimary",children:"Create Department Form"}),Object(k.jsx)(m.a,{}),Object(k.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(k.jsxs)("form",{className:p.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),u(!0),console.log("payload",n),function(e){return new Promise((function(t,n){w({url:"".concat(N),method:"post",data:e}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(n).then((function(e){var t=e.status,n=e.message;200==t?x.fire({icon:"success",title:"Success",text:n||"Department Created Successfully",allowOutsideClick:!1,willClose:function(){c({model:"",description:"",manufacturer:"TOYOTA",manufactureYear:"",price:0})}}):x.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){})).finally((function(){u(!1)}))},children:[Object(k.jsxs)(U.a,{variant:"outlined",className:p.textField,children:[Object(k.jsx)(z.a,{htmlFor:"outlined-age-native-simple",children:"Department"}),Object(k.jsx)(L.a,{native:!0,value:n.manufacturer,onChange:function(e){var t=e.target,a=t.name;console.log("event",e.target.value),c(Object(M.a)(Object(M.a)({},n),{},Object(I.a)({},a,t.value)))},label:"Department",name:"manufacturer",children:K.map((function(e){return Object(k.jsx)("option",{value:e.id,children:e.label},e.id)}))})]}),Object(k.jsx)(J.a,{id:"model",label:"Car Model",name:"model",value:n.model,variant:"outlined",className:p.textField,onChange:h}),Object(k.jsx)(J.a,{id:"year",label:"Manufacture Year",name:"manufactureYear",value:n.manufactureYear,variant:"outlined",className:p.textField,onChange:h}),Object(k.jsx)(J.a,{id:"price",label:"price",name:"price",value:n.price,type:"number",variant:"outlined",className:p.textField,onChange:h}),Object(k.jsx)(J.a,{id:"description",label:"description",name:"description",value:n.description,variant:"outlined",className:p.textField,onChange:h}),Object(k.jsxs)(j.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:o||!(n.description&&n.manufactureYear&&n.model&&n.price&&n.manufacturer&&n.price>0),children:[o?Object(k.jsx)(q.a,{size:20}):null,Object(k.jsx)(f.a,{variant:"button",children:"Create"})]})]})})]})]})},W=n(170),X=n(171),Z=n(172),$=n(173),_=Object(u.a)((function(e){return{root:{},form:{width:"70%",padding:"20px",marginTop:"40px"},textField:{width:"100%",marginBottom:"20px"}}})),ee=function(){var e=Object(a.useState)({model:"",description:"",manufacturer:"",manufactureYear:"",price:0}),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],b=Object(a.useState)(!1),x=Object(s.a)(b,2),h=x[0],O=x[1],v=Object(l.f)(),g=_(),y=Object(l.g)().id,C=D()(P.a);Object(a.useEffect)((function(){S(y)}),[]);var F=function(e){var t=e.target,a=t.name,r=t.value;c(Object(M.a)(Object(M.a)({},n),{},Object(I.a)({},a,r)))},S=function(e){u(!0),function(e){return new Promise((function(t,n){w({url:"".concat(N,"/").concat(e),method:"get"}).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(e).then((function(e){var t=e.status,n=e.message,a=e.data;if(200===t){var r=a.model,i=a.description,o=a.manufactureYear,l=a.manufacturer,s=a.price;c({model:r,description:i,manufactureYear:o,manufacturer:l,price:s})}else C.fire({icon:"error",title:"Error",text:n||"Error"})})).catch((function(e){C.fire({icon:"error",title:"Error",text:e})})).finally((function(){u(!1)}))};return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)(d.a,{elevation:0,style:{padding:"5px",minHeight:"50px"},children:Object(k.jsx)(E.a,{color:"primary",onClick:function(){v.goBack()},children:Object(k.jsx)(R.a,{})})}),Object(k.jsxs)(d.a,{elevation:0,style:{padding:"5px",minHeight:"300px",marginTop:"10px",display:"flex",flexDirection:"column"},children:[Object(k.jsx)(f.a,{variant:"h5",color:"textPrimary",children:"Update Car Form"}),o?Object(k.jsx)(p.a,{color:"secondary",style:{width:"100%"}}):null,Object(k.jsx)(m.a,{}),Object(k.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(k.jsxs)("form",{className:g.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),O(!0),console.log("payload",n),function(e,t){return new Promise((function(n,a){w({url:"".concat(N,"/").concat(e),method:"put",data:t}).then((function(e){return n(e)})).catch((function(e){return a(e)}))}))}(y,n).then((function(e){var t=e.status,n=e.message;200==t?C.fire({icon:"success",title:"Success",text:n||"Car Updated Successfully",allowOutsideClick:!1,willClose:function(){}}):C.fire({icon:"error",title:"Failed!",text:n||"failed"})})).catch((function(e){C.fire({icon:"error",title:"Failed!",text:e})})).finally((function(){O(!1)}))},children:[Object(k.jsx)(J.a,{id:"model",label:"Car Model",name:"model",value:n.model,variant:"outlined",className:g.textField,onChange:F}),Object(k.jsx)(J.a,{id:"year",label:"Manufacture Year",name:"manufactureYear",value:n.manufactureYear,variant:"outlined",className:g.textField,onChange:F}),Object(k.jsx)(J.a,{id:"price",label:"Price",name:"price",value:n.price,type:"number",variant:"outlined",className:g.textField,onChange:F}),Object(k.jsx)(J.a,{id:"description",label:"description",name:"description",value:n.description,variant:"outlined",className:g.textField,onChange:F}),Object(k.jsxs)(j.a,{variant:"contained",color:"secondary",style:{float:"right"},type:"submit",disabled:h||!(n.description&&n.manufactureYear&&n.model&&n.price&&n.manufacturer&&n.price>0),children:[h?Object(k.jsx)(q.a,{size:20}):null,Object(k.jsx)(f.a,{variant:"button",children:"Update"})]})]})})]})]})},te=Object(u.a)((function(e){return{root:{display:"flex"},content:{width:"100%",padding:"10px",backgroundColor:"#f0f2f5"}}}));var ne=function(){var e=te();return Object(k.jsx)(W.a,{children:Object(k.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(k.jsx)(X.a,{position:"static",children:Object(k.jsxs)(Z.a,{className:e.toolbar,children:[Object(k.jsx)(E.a,{edge:"start",color:"inherit",children:Object(k.jsx)($.a,{})}),Object(k.jsx)(f.a,{component:"h1",variant:"h6",color:"inherit",children:"Car Management System"})]})}),Object(k.jsx)("div",{className:e.content,children:Object(k.jsx)(o.a,{children:Object(k.jsxs)(l.c,{children:[Object(k.jsx)(l.a,{path:"/cars/create",component:V}),Object(k.jsx)(l.a,{path:"/cars/:id/edit",component:ee}),Object(k.jsx)(l.a,{path:"/cars",component:B}),Object(k.jsx)(l.a,{exact:!0,path:"/",component:B})]})})})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,178)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(ne,{})}),document.getElementById("root")),ae()},91:function(e,t,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.bc7d239a.chunk.js.map